<!DOCTYPE html>
<html>
    <head>
        <title>Socket.io tests</title>
 
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
        <script src="/lib/js/jquery-3.0.0.min.js"></script>
        <script src="/lib/js/socket.io-1.4.5.js"></script>
 
        <script>
            var socket = io.connect('//localhost:5555');
 
            // emit some data
            socket.emit("user_online_data", {
                data: {id: 1, name: "Tester", msg: "Hello!"}
            });
 
            // handle our events
            socket.on('welcome', function (data) {
                // process data from node script
                $('#messages').append('<li>' + data.message + '</li>');
 
                // emit data to node script
                socket.emit("sayhi", {
                    data: 'Hi node!'
                });
            });
 
            // another "event" we named "time"
            socket.on('time', function (data) {
                console.log(data);
                $('#messages').append('<li>' + data.time + '</li>');
            });
 
            // if someting went wront and node script sent error data
            socket.on('error', function () {
                console.error(arguments);
            });
        </script>
    </head>
 
    <body>
        <ul id="messages"></ul>
    </body>
 
</html>